{"version":3,"sources":["assets\\scripts\\LanguageLabel.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qDAAgD;AAE1C,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAA2C,iCAAY;IAAvD;QAAA,qEAwBC;QAtBG,aAAO,GAAW,EAAE,CAAC;QAEb,WAAK,GAAoB,IAAI,CAAC;;IAoB1C,CAAC;IAlBG,8BAAM,GAAN;QACI,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;QACzC,WAAW;QACX,yBAAe,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACtE,QAAQ;QACR,IAAI,CAAC,UAAU,EAAE,CAAC;IACtB,CAAC;IAEO,kCAAU,GAAlB;QACI,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,OAAO,EAAE;YAC5B,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,yBAAe,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SAC3E;IACL,CAAC;IAED,iCAAS,GAAT;QACI,OAAO;QACP,yBAAe,CAAC,WAAW,EAAE,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC7E,CAAC;IArBD;QADC,QAAQ;kDACY;IAFJ,aAAa;QADjC,OAAO;OACa,aAAa,CAwBjC;IAAD,oBAAC;CAxBD,AAwBC,CAxB0C,EAAE,CAAC,SAAS,GAwBtD;kBAxBoB,aAAa","file":"","sourceRoot":"/","sourcesContent":["import LanguageManager from \"./LanguageManager\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class LanguageLabel extends cc.Component {\n    @property\n    textKey: string = \"\";\n\n    private label: cc.Label | null = null;\n\n    onLoad() {\n        this.label = this.getComponent(cc.Label);\n        // 注册语言变化监听\n        LanguageManager.getInstance().addObserver(this.updateText.bind(this));\n        // 初始化文本\n        this.updateText();\n    }\n\n    private updateText() {\n        if (this.label && this.textKey) {\n            this.label.string = LanguageManager.getInstance().getText(this.textKey);\n        }\n    }\n\n    onDestroy() {\n        // 移除监听\n        LanguageManager.getInstance().removeObserver(this.updateText.bind(this));\n    }\n} "]}