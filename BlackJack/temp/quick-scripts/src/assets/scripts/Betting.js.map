{"version":3,"sources":["assets\\scripts\\Betting.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["/**\n * Betting 类处理下注金额和余额的计算\n */\nexport default class Betting {\n    private betAmount: number = 10;  // 每轮下注金额\n    private playerBalance: number = 100;  // 玩家初始余额\n\n    /**\n     * 设置下注金额 \n     * @param amount {number} 设置的赌注金额\n     */\n    placeBet(amount: number): void {\n        this.betAmount = amount;\n    }\n\n    /**\n     * 玩家赢得普通对局\n     * 奖励 2 倍的赌注\n     */\n    win(): void {\n        this.playerBalance += this.betAmount * 2;\n\n        let playerNode=cc.find(\"Canvas/Player Node\");\n        for(let i=0;i<playerNode.childrenCount;i++){\n            playerNode.children[i].getChildByName(\"Sign\").active=true;\n            playerNode.children[i].getChildByName(\"Sign\").color=cc.color(0,255,56,255);\n        }\n        cc.find(\"Canvas/playerScoreNode\").color=cc.color(0,255,56,255);\n    }\n    winLeft(): void {\n        this.playerBalance += this.betAmount * 2;\n        let playerNode=cc.find(\"Canvas/Player Node left\");\n        for(let i=0;i<playerNode.childrenCount;i++){\n            playerNode.children[i].getChildByName(\"Sign\").active=true;\n            playerNode.children[i].getChildByName(\"Sign\").color=cc.color(0,255,56,255);\n        }\n        cc.find(\"Canvas/playerleftScoreNode\").color=cc.color(0,255,56,255);\n    }\n    winRight(): void {\n        this.playerBalance += this.betAmount * 2;\n        let playerNode=cc.find(\"Canvas/Player Node right\");\n        for(let i=0;i<playerNode.childrenCount;i++){\n            playerNode.children[i].getChildByName(\"Sign\").active=true;\n            playerNode.children[i].getChildByName(\"Sign\").color=cc.color(0,255,56,255);\n        }\n        cc.find(\"Canvas/playerrightScoreNode\").color=cc.color(0,255,56,255);\n    }\n    loseLeft(): void {\n        this.playerBalance -= this.betAmount;   \n        let playerNode=cc.find(\"Canvas/Player Node left\");\n        for(let i=0;i<playerNode.childrenCount;i++){\n            playerNode.children[i].getChildByName(\"Sign\").active=true;\n            playerNode.children[i].getChildByName(\"Sign\").color=cc.color(255,0,0,255);\n        }\n        cc.find(\"Canvas/playerleftScoreNode\").color=cc.color(255,0,0,255);\n    }\n    loseRight(): void {\n        this.playerBalance -= this.betAmount;   \n        let playerNode=cc.find(\"Canvas/Player Node right\");\n        for(let i=0;i<playerNode.childrenCount;i++){\n            playerNode.children[i].getChildByName(\"Sign\").active=true;\n            playerNode.children[i].getChildByName(\"Sign\").color=cc.color(255,0,0,255);\n        }\n        cc.find(\"Canvas/playerrightScoreNode\").color=cc.color(255,0,0,255);\n    }\n    pushLeft(): void {\n        let playerNode=cc.find(\"Canvas/Player Node left\");\n        for(let i=0;i<playerNode.childrenCount;i++){\n            playerNode.children[i].getChildByName(\"Sign\").active=true;\n            playerNode.children[i].getChildByName(\"Sign\").color=cc.color(255,255,0,255);\n        }\n        cc.find(\"Canvas/playerleftScoreNode\").color=cc.color(255,255,0,255);\n    }\n    pushRight(): void {\n        let playerNode=cc.find(\"Canvas/Player Node right\");\n        for(let i=0;i<playerNode.childrenCount;i++){\n            playerNode.children[i].getChildByName(\"Sign\").active=true;\n            playerNode.children[i].getChildByName(\"Sign\").color=cc.color(255,255,0,255);\n        }\n        cc.find(\"Canvas/playerrightScoreNode\").color=cc.color(255,255,0,255);\n    }\n\n    /**\n     * 玩家赢得 Blackjack，对局奖励 2.5 倍赌注\n     */\n    winBlackjack(): void {\n        this.playerBalance += this.betAmount * 2.5;\n    }\n\n    /**\n     * 玩家输掉对局，扣除赌注\n     */\n    lose(): void {\n        this.playerBalance -= this.betAmount;\n        console.log(\"lose\",this.playerBalance)\n        let playerNode=cc.find(\"Canvas/Player Node\");\n        for(let i=0;i<playerNode.childrenCount;i++){\n            playerNode.children[i].getChildByName(\"Sign\").active=true;\n            playerNode.children[i].getChildByName(\"Sign\").color=cc.color(255,0,0,255);\n        }\n        cc.find(\"Canvas/playerScoreNode\").color=cc.color(255,0,0,255);\n    }\n\n    /**\n     * 平局时退还赌注\n     */\n    push(): void {\n        console.log(\"push\",this.playerBalance)\n        let playerNode=cc.find(\"Canvas/Player Node\");\n        for(let i=0;i<playerNode.childrenCount;i++){\n            playerNode.children[i].getChildByName(\"Sign\").active=true;\n            playerNode.children[i].getChildByName(\"Sign\").color=cc.color(255,255,0,255);\n        }\n        cc.find(\"Canvas/playerScoreNode\").color=cc.color(255,255,0,255);\n        // 无变化，退还赌注\n    }\n    // 双倍下注，将当前赌注金额翻倍\n    doubleBet(): void {\n        this.betAmount *= 2;\n    }\n    /**\n     * 获取当前余额\n     * @returns {number} 玩家当前余额\n     */\n    getBalance(): number {\n        return this.playerBalance;\n    }\n    //吕布：真实伤害\n    //马超：队友部分经济转化为自身经济\n    //关羽：把敌人往队友身边撞\n    //程咬金：持续恢复最大生命值，生命值越低伤害越高\n\n    //韩信：敌人部分经济转换为自身经济\n    //\n\n    //诸葛亮：斩杀200距离内30生命值以下的敌人\n    //貂蝉：真实伤害 概率无敌\n    //安其拉：往400距离内的敌人丢一个很痛的大火球\n\n    //后裔：往生命值最低的敌人方向丢一个大鸟，命中第一个敌人眩晕，\n    //马克：真实伤害，被瑶附身的概率大\n    //守约：狙击\n\n    //瑶：附身队友，加护盾\n    //蔡文姬：给附近的队友恢复大量生命值\n    //张飞：给附近的队友增加大量护盾\n    //太乙真人：队友复活\n}\n"]}