{"version":3,"sources":["assets\\scripts\\LanguageManager.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// 语言类型枚举\nexport enum LanguageType {\n    CN = \"cn\",\n    EN = \"en\",\n    JP = \"jp\",\n    FR = \"fr\",\n    Ar = \"ar\"\n}\n\n// 语言配置接口\ninterface LanguageConfig {\n    [key: string]: {\n        [key: string]: string\n    }\n}\n\nexport default class LanguageManager {\n    private static instance: LanguageManager;\n    private currentLanguage: LanguageType = LanguageType.CN;\n    private languageData: LanguageConfig = {};\n    private observers: Array<(lang: LanguageType) => void> = [];\n\n    // 单例模式\n    public static getInstance(): LanguageManager {\n        if (!this.instance) {\n            this.instance = new LanguageManager();\n        }\n        return this.instance;\n    }\n\n    private constructor() {\n        // 初始化语言配置\n        this.initLanguageConfig();\n        // 从本地存储加载上次使用的语言设置\n        this.loadLanguageSettings();\n    }\n    // 在 LanguageManager 中添加获取下一个语言的方法\npublic getNextLanguage(currentLang: LanguageType): LanguageType {\n    const languages = [\n        LanguageType.CN,\n        LanguageType.EN,\n        LanguageType.JP,\n        LanguageType.Ar,\n        LanguageType.FR\n    ];\n    \n    const currentIndex = languages.indexOf(currentLang);\n    const nextIndex = (currentIndex + 1) % languages.length;\n    return languages[nextIndex];\n}\n    // 初始化语言配置\n    private initLanguageConfig() {\n        this.languageData = {\n            \"game.start\": {\n                [LanguageType.CN]: \"投注\",\n                [LanguageType.EN]: \"Bet\",\n                [LanguageType.JP]: \"ベット\",\n                [LanguageType.FR]: \"Mise\",\n                [LanguageType.Ar]: \"الرهان\"\n            },\n            \"game.hit\": {\n                [LanguageType.CN]: \"叫牌\",\n                [LanguageType.EN]: \"Hit\",\n                [LanguageType.JP]: \"ヒット\",\n                [LanguageType.FR]: \"Frapper\",\n                [LanguageType.Ar]: \"اضرب\"\n            },\n            \"game.stand\": {\n                [LanguageType.CN]: \"停牌\",\n                [LanguageType.EN]: \"Stand\",\n                [LanguageType.JP]: \"スタンド\",\n                [LanguageType.FR]: \"Rester debout\",\n                [LanguageType.Ar]: \"الوقوف\"\n            },\n            \"game.double\": {\n                [LanguageType.CN]: \"加倍\",\n                [LanguageType.EN]: \"Double\",\n                [LanguageType.JP]: \"ダブル\",\n                [LanguageType.FR]: \"Doubler\",\n                [LanguageType.Ar]: \"مضاعفة\"\n            },\n            \"game.divide\": {\n                [LanguageType.CN]: \"分牌\",\n                [LanguageType.EN]: \"Divide\",\n                [LanguageType.JP]: \"ディバイド\",\n                [LanguageType.FR]: \"Diviser\",\n                [LanguageType.Ar]: \"القسمة\"\n            },\n            \"game.BetAmount\": {\n                [LanguageType.CN]: \"投注额\",\n                [LanguageType.EN]: \"Bet amount\",\n                [LanguageType.JP]: \"ベット金額\",\n                [LanguageType.FR]: \"Montant du pari\",\n                [LanguageType.Ar]: \"مبلغ الرهان\"\n            },\n            \"game.BuyInsurance\": {\n                [LanguageType.CN]: \"买保险\",\n                [LanguageType.EN]: \"Buy Insurance\",\n                [LanguageType.JP]: \"保険を買う\",\n                [LanguageType.FR]: \"Cheter une assurance\",\n                [LanguageType.Ar]: \"شراء التأمين\"\n            },\n            \"game.NotBuyingInsurance\": {\n                [LanguageType.CN]: \"不买保险\",\n                [LanguageType.EN]: \"Not Buying Insurance\",\n                [LanguageType.JP]: \"保険を買わない\",\n                [LanguageType.FR]: \"Ne pas acheter d'assurance\",\n                [LanguageType.Ar]: \"عدم شراء التأمين\"\n            },\n            \"game.LanguageSwitching\": {\n                [LanguageType.CN]: \"语言切换\",\n                [LanguageType.EN]: \"Language Switching\",\n                [LanguageType.JP]: \"言語切り替え\",\n                [LanguageType.FR]: \"Changement de langue\",\n                [LanguageType.Ar]: \"تبديل اللغة\"\n            },\n            \"game.divideButton\": {\n                [LanguageType.CN]: \"分牌\",\n                [LanguageType.EN]: \"Divide\",\n                [LanguageType.JP]: \"ディバイド\",\n                [LanguageType.FR]: \"Diviser\",\n                [LanguageType.Ar]: \"القسمة\"\n            },\n            \"game.noDivideButton\": {\n                [LanguageType.CN]: \"不分牌\",\n                [LanguageType.EN]: \"No Divide\",\n                [LanguageType.JP]: \"ディバイドしない\",\n                [LanguageType.FR]: \"Ne pas diviser\",\n                [LanguageType.Ar]: \"لا يقسم\"\n            }\n            // ... 添加更多文本配置\n        };\n    }\n\n    // 从本地存储加载语言设置\n    private loadLanguageSettings() {\n        const savedLanguage = cc.sys.localStorage.getItem('selectedLanguage');\n        if (savedLanguage) {\n            this.currentLanguage = savedLanguage as LanguageType;\n        }\n    }\n\n    // 切换语言\n    public setLanguage(lang: LanguageType): void {\n        if (this.currentLanguage !== lang) {\n            this.currentLanguage = lang;\n            // 保存到本地存储\n            cc.sys.localStorage.setItem('selectedLanguage', lang);\n            // 通知所有观察者\n            this.notifyObservers();\n        }\n    }\n\n    // 获取当前语言\n    public getCurrentLanguage(): LanguageType {\n        return this.currentLanguage;\n    }\n\n    // 获取翻译文本\n    public getText(key: string): string {\n        if (this.languageData[key] && this.languageData[key][this.currentLanguage]) {\n            return this.languageData[key][this.currentLanguage];\n        }\n        return key; // 如果找不到翻译，返回key\n    }\n\n    // 添加语言变化观察者\n    public addObserver(callback: (lang: LanguageType) => void): void {\n        this.observers.push(callback);\n    }\n\n    // 移除观察者\n    public removeObserver(callback: (lang: LanguageType) => void): void {\n        const index = this.observers.indexOf(callback);\n        if (index > -1) {\n            this.observers.splice(index, 1);\n        }\n    }\n\n    // 通知所有观察者\n    private notifyObservers(): void {\n        this.observers.forEach(callback => callback(this.currentLanguage));\n    }\n} "]}